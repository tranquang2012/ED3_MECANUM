<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESP32 Robot Remote Control</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ ESP32 Robot Remote Control</h1>
            <p>Real-time wireless motor control</p>
        </div>
        
        <div id="connectionStatus" class="connection-status disconnected">
            Disconnected
        </div>

        <div class="two-column">
            <!-- Control Panel -->
            <div class="control-panel">
                <h3>Robot Movement Control</h3>
                
                <div class="movement-controls">
                    <button class="btn movement" onclick="sendMovementCommand('forward')">‚¨ÜÔ∏è Forward</button>
                    <button class="btn movement" onclick="sendMovementCommand('turnLeft')">‚¨ÖÔ∏è Turn Left</button>
                    <button class="btn movement" onclick="sendMovementCommand('turnRight')">‚û°Ô∏è Turn Right</button>
                    <button class="btn movement" onclick="sendMovementCommand('backward')">‚¨áÔ∏è Backward</button>
                    <button class="btn movement" onclick="sendMovementCommand('spinLeft')">üîÑ Spin Left</button>
                    <button class="btn movement" onclick="sendMovementCommand('spinRight')">üîÑ Spin Right</button>
                    <button class="btn stop" onclick="sendMovementCommand('stop')">‚èπÔ∏è EMERGENCY STOP</button>
                </div>

                <h4>üéöÔ∏è Master Speed Control</h4>
                <div class="master-speed-control">
                    <div class="speed-control">
                        <label>üöó Robot Speed: <span id="masterSpeedValue">75</span> rad/s</label>
                        <input type="range" id="masterSpeedSlider" class="slider" min="25" max="100" step="1" value="75" 
                               oninput="updateMasterSpeed(this.value)">
                        <div class="speed-indicators">
                            <span>25 (Slow)</span>
                            <span>50 (Medium)</span>
                            <span>75 (Fast)</span>
                            <span>100 (Very Fast)</span>
                        </div>
                        <p class="speed-description">
                            üí° <strong>How it works:</strong> Set your desired speed, then press movement buttons. 
                            Motors won't move until you press Forward/Backward/Turn buttons!
                        </p>
                    </div>
                </div>
            </div>

            <!-- Status Panel -->
            <div class="status-panel">
                <h3>Robot Status</h3>
                
                <div class="motor-status">
                    <h4>Motor 1 (Front Left)</h4>
                    <div class="status-item">
                        <div>üèÉ Current Speed</div>
                        <div id="motor1Speed" class="status-value">0.00</div>
                        <div>rad/s</div>
                    </div>
                    <div class="status-item">
                        <div>üéØ Target Speed</div>
                        <div id="motor1Target" class="status-value">0.00</div>
                        <div>rad/s</div>
                    </div>
                    <div class="status-item">
                        <div>PWM Output</div>
                        <div id="motor1PWM" class="status-value">0.00</div>
                        <div>(-255 to 255)</div>
                    </div>
                </div>

                <div class="motor-status">
                    <h4>Motor 2 (Front Right)</h4>
                    <div class="status-item">
                        <div>üèÉ Current Speed</div>
                        <div id="motor2Speed" class="status-value">0.00</div>
                        <div>rad/s</div>
                    </div>
                    <div class="status-item">
                        <div>Target Speed</div>
                        <div id="motor2Target" class="status-value">0.00</div>
                        <div>rad/s</div>
                    </div>
                    <div class="status-item">
                        <div>PWM Output</div>
                        <div id="motor2PWM" class="status-value">0.00</div>
                        <div>(-255 to 255)</div>
                    </div>
                </div>

                <div class="motor-status">
                    <h4>Motor 3 (Rear Left)</h4>
                    <div class="status-item">
                        <div>Current Speed</div>
                        <div id="motor3Speed" class="status-value">0.00</div>
                        <div>rad/s</div>
                    </div>
                    <div class="status-item">
                        <div>Target Speed</div>
                        <div id="motor3Target" class="status-value">0.00</div>
                        <div>rad/s</div>
                    </div>
                    <div class="status-item">
                        <div>PWM Output</div>
                        <div id="motor3PWM" class="status-value">0.00</div>
                        <div>(-255 to 255)</div>
                    </div>
                </div>

                <div class="motor-status">
                    <h4>Motor 4 (Rear Right)</h4>
                    <div class="status-item">
                        <div>üèÉ Current Speed</div>
                        <div id="motor4Speed" class="status-value">0.00</div>
                        <div>rad/s</div>
                    </div>
                    <div class="status-item">
                        <div>Target Speed</div>
                        <div id="motor4Target" class="status-value">0.00</div>
                        <div>rad/s</div>
                    </div>
                    <div class="status-item">
                        <div>PWM Output</div>
                        <div id="motor4PWM" class="status-value">0.00</div>
                        <div>(-255 to 255)</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="explanation-box">
            <h4>Setup Instructions:</h4>
            <ol>
                <li><strong>Update ESP32 IP:</strong> Change the IP address in the JavaScript below</li>
                <li><strong>Connect to WiFi:</strong> Make sure ESP32 and device are on same network</li>
                <li><strong>Real-time Control:</strong> Use buttons for quick commands or slider for precision</li>
                <li><strong>Status Monitoring:</strong> Live updates every 100ms from ESP32</li>
            </ol>
            
            <h4>üîß Connection Info:</h4>
            <p><strong>WebSocket URL:</strong> <code>ws://ESP32_IP_ADDRESS:81</code></p>
            <p><strong>Current Target:</strong> <code id="currentIP">192.168.1.100</code> (Update in JavaScript)</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
